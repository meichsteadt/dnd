<div class="spell_card <%= spell.classes.first["name"].downcase %> active" data-id="<%= spell.id %> ">
  <!-- Close Button -->


  <!-- Spell Name -->
  <div class="title">
    <h4><%= spell.name  %></h4>
    <p class="spell_controls btn-link" onclick="insertSpell('<%= spell.id %>')"><i class="material-icons">content_paste_go</i> Insert Spell </p>
    <button type="button" class="btn-close" aria-label="Close"></button>
  </div>

  <!-- Spell meta info -->
  <div class="meta_info">
    <p><%= spell.meta_info %> </p>
  </div>

  <!-- Spell Info -->
  <div class="spell_info">
    <div class="casting_time">
      <h5>Casting Time</h5>
      <p><%= spell.casting_time %> </p>
    </div>

    <div class="range">
      <h5>Range</h5>
      <p><%= spell.range %> </p>
    </div>

    <div class="components">
      <h5>Components</h5>
      <p><%= spell.components.join(", ") %> </p>
    </div>

    <div class="duration">
      <h5>Duration</h5>
      <p><%= spell.duration %> </p>
    </div>
  </div>

  <!-- Wrapping in this section to make it scroll when overflow -->
  <section id="long_text">
    <!-- Spell Details -->
    <div class="spell_details">
      <p><em><%= "Material: #{spell.material}" if spell.material %> </em></p>
      <% spell.desc.each do |line| %>
      <p><%= line %> </p>
      <% end %>
    </div>

    <!-- Higher Levels -->
    <div class="higher_levels">
      <% if !spell.higher_level.nil? %>
      <% spell.higher_level.each do |line| %>
      <p><%= line %> </p>
      <% end %>
      <% end %>
    </div>
  </section>

</div>

<script type="text/javascript">
  $('.btn-close').on('click', hideActiveSpell);

  $(function() {
    if($("#page_form").length > 0) {
      $(".spell_controls").show();
    }
    else {
      $(".spell_controls").hide();
    }
  })
</script>
